(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-home-find"],{2319:function(t,e,a){"use strict";var i=a("a08d"),n=a.n(i);n.a},"2b7c":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"waves",class:t.itemClass,attrs:{id:t.wavesId},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.onTouchstart(e)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.onTap.apply(void 0,arguments)}}},[t._t("default"),a("v-uni-view",{staticClass:"waves-ripple",class:{active:t.active},style:{top:t.rippleTop+"px",left:t.rippleLeft+"px",width:t.field.finalWidth+"px",height:t.field.finalWidth+"px","background-color":t.wavesColor}})],2)},n=[]},"3c10":function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("ac1f"),a("5319"),a("e25e"),a("fb6a"),a("e9c4");var n=i(a("5819")),s=a("cfbc"),o={data:function(){return{StatusBar:this.StatusBar,CustomBar:this.CustomBar,NavBar:this.StatusBar+this.CustomBar,AppStyle:this.$store.state.AppStyle,topList:[],metaList:[],tagList:[],recommendList:[],isLoading:0,ads:"",bannerAds:[],bannerAdsInfo:null,noticeSum:0,token:""}},onPullDownRefresh:function(){this.loading();setTimeout((function(){uni.stopPullDownRefresh()}),1e3)},onShow:function(){this.getAdsCache(),this.allCache(),s.localStorage.getItem("token")&&(this.token=s.localStorage.getItem("token")),this.unreadNum()},onLoad:function(){this.loading()},methods:{getAdsCache:function(){if(s.localStorage.getItem("bannerAds")){this.bannerAds=JSON.parse(s.localStorage.getItem("bannerAds"));var t=this.bannerAds.length;if(t>0){var e=Math.floor(Math.random()*t);this.bannerAdsInfo=this.bannerAds[e]}}},loading:function(){this.getRecommend(),this.getTopList(),this.getMetaList(),this.getTagList()},replaceSpecialChar:function(t){return t=t.replace(/&quot;/g,'"'),t=t.replace(/&amp;/g,"&"),t=t.replace(/&lt;/g,"<"),t=t.replace(/&gt;/g,">"),t=t.replace(/&nbsp;/g," "),t},formatDate:function(t){t=new Date(parseInt(1e3*t));var e=t.getFullYear(),a=("0"+(t.getMonth()+1)).slice(-2),i=("0"+t.getDate()).slice(-2),n=("0"+t.getHours()).slice(-2),s=("0"+t.getMinutes()).slice(-2),o=e+"-"+a+"-"+i+" "+n+":"+s;return o},allCache:function(){var t=this;if(s.localStorage.getItem("topList")){t.topList=JSON.parse(s.localStorage.getItem("topList"));setTimeout((function(){t.isLoading=1,clearTimeout("timer")}),300)}s.localStorage.getItem("recommendList")&&(t.recommendList=JSON.parse(s.localStorage.getItem("recommendList"))),s.localStorage.getItem("find_metaList")&&(t.metaList=JSON.parse(s.localStorage.getItem("find_metaList"))),s.localStorage.getItem("find_tagList")&&(t.tagList=JSON.parse(s.localStorage.getItem("find_tagList")))},getAds:function(){var t=this;t.$Net.request({url:t.$API.GetAds(),header:{"Content-Type":"application/x-www-form-urlencoded"},method:"get",dataType:"json",success:function(e){1==e.data.isAds&&(t.ads=e.data.ad1.split("|"))},fail:function(t){}})},getRecommend:function(){var t=this;t.$Net.request({url:t.$API.getContentsList(),data:{searchParams:JSON.stringify(t.$API.removeObjectEmptyKey({type:"post",isrecommend:1})),limit:5,page:1,order:"modified"},header:{"Content-Type":"application/x-www-form-urlencoded"},method:"get",dataType:"json",success:function(e){if(1==e.data.code){var a=e.data.data;a.length>0?t.recommendList=a:t.recommendList=[],s.localStorage.setItem("recommendList",JSON.stringify(t.recommendList))}},fail:function(t){}})},getTopList:function(){var t=this;t.$Net.request({url:t.$API.getContentsList(),data:{searchParams:JSON.stringify(t.$API.removeObjectEmptyKey({type:"post"})),limit:5,page:1,order:"commentsNum"},header:{"Content-Type":"application/x-www-form-urlencoded"},method:"get",dataType:"json",success:function(e){if(1==e.data.code){var a=e.data.data;a.length>0&&(t.topList=a,s.localStorage.setItem("topList",JSON.stringify(a)))}setTimeout((function(){t.isLoading=1,clearTimeout("timer")}),300)},fail:function(e){uni.showToast({title:"网络开小差了哦",icon:"none"});setTimeout((function(){t.isLoading=1,clearTimeout("timer")}),300)}})},getMetaList:function(){var t=this;t.$Net.request({url:t.$API.getMetasList(),data:{searchParams:JSON.stringify(t.$API.removeObjectEmptyKey({type:"category",parent:0})),limit:15,page:1,order:"order"},header:{"Content-Type":"application/x-www-form-urlencoded"},method:"get",dataType:"json",success:function(e){if(1==e.data.code){var a=e.data.data;a.length>0&&(t.metaList=a,s.localStorage.setItem("find_metaList",JSON.stringify(t.metaList)))}},fail:function(t){}})},goAds:function(t){var e=t.url;t.urltype;window.open(e)},getTagList:function(){var t=this;t.$Net.request({url:t.$API.getMetasList(),data:{searchParams:JSON.stringify(t.$API.removeObjectEmptyKey({type:"tag"})),limit:20,page:1,order:"count"},header:{"Content-Type":"application/x-www-form-urlencoded"},method:"get",dataType:"json",success:function(e){if(1==e.data.code){var a=e.data.data;a.length>0&&(t.tagList=a,s.localStorage.setItem("find_tagList",JSON.stringify(t.tagList)))}},fail:function(t){}})},toSearch:function(){uni.navigateTo({url:"/pages/contents/search"})},toCategoryContents:function(t,e){uni.navigateTo({url:"/pages/contents/contentlist?title="+t+"&type=meta&id="+e})},toTopContents:function(t,e){uni.navigateTo({url:"/pages/contents/contentlist?title="+t+"&type=top&id="+e})},toInfo:function(t){uni.navigateTo({url:"/pages/contents/info?cid="+t.cid+"&title="+t.title})},toAlltag:function(){uni.navigateTo({url:"/pages/contents/alltag"})},toAllcategory:function(){uni.navigateTo({url:"/pages/contents/allcategory"})},goPage:function(t){uni.navigateTo({url:t})},toRecommend:function(){uni.navigateTo({url:"/pages/contents/recommend"})},toGroup:function(){var t=that.$API.GetGroupUrl();window.open(t)},toAds:function(t){window.open(t)},unreadNum:function(){var t=this;t.$Net.request({url:t.$API.unreadNum(),data:{token:t.token},header:{"Content-Type":"application/x-www-form-urlencoded"},method:"get",dataType:"json",success:function(e){1==e.data.code&&(t.noticeSum=e.data.data)},fail:function(t){uni.showToast({title:"网络开小差了哦",icon:"none"})}})},toLink:function(t){if(!s.localStorage.getItem("token")||""==s.localStorage.getItem("token"))return uni.showToast({title:"请先登录哦",icon:"none"}),!1;uni.navigateTo({url:t})}},components:{waves:n.default}};e.default=o},5819:function(t,e,a){"use strict";a.r(e);var i=a("2b7c"),n=a("fa9a");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("2319");var o=a("f0c5"),c=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"235bc8a0",null,!1,i["a"],void 0);e["default"]=c.exports},6746:function(t,e,a){"use strict";a.r(e);var i=a("3c10"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},a08d:function(t,e,a){var i=a("fad5");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("b7f8fc44",i,!0,{sourceMap:!1,shadowMode:!1})},a4ba:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("d3b7"),a("ac1f");var i=0,n={props:{wavesColor:{type:String,default:"rgba(0, 0, 0, .15)"},itemClass:{type:String,default:""}},data:function(){return i++,{rippleTop:0,rippleLeft:0,field:{},active:Boolean,wavesId:"waves_"+i}},methods:{onTap:function(t){this.$emit("onTap")},onTouchstart:function(t){var e=this;this.active=!1,this.$nextTick((function(){e.activeWaves(t)}))},activeWaves:function(t){var e=this;this.getClientRect().then((function(a){var i,n;a.height&&(a.finalWidth=a.height>a.width?a.height:a.width,a.finalWidth&&(e.field=a,i=t.touches[0].clientX,n=t.touches[0].clientY,e.rippleTop=n-a.top-a.finalWidth/2,e.rippleLeft=i-a.left-a.finalWidth/2,e.$nextTick((function(){e.active=!0}))))}))},getClientRect:function(){var t=this;return new Promise((function(e){var a=uni.createSelectorQuery().in(t),i="#"+t.wavesId;a.select(i).boundingClientRect((function(t){e(t)})).exec()}))}}};e.default=n},b3b0:function(t,e,a){"use strict";a.r(e);var i=a("b6e6"),n=a("6746");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);var o=a("f0c5"),c=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"2dc7f0a4",null,!1,i["a"],void 0);e["default"]=c.exports},b6e6:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{class:t.AppStyle},[i("v-uni-view",{staticClass:"header",style:[{height:t.CustomBar+"px"}]},[i("v-uni-view",{staticClass:"cu-bar bg-white",style:{height:t.CustomBar+"px","padding-top":t.StatusBar+"px"}},[i("v-uni-view",{staticClass:"action",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toSearch.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"cuIcon-search"})],1),i("v-uni-view",{staticClass:"content text-bold",style:[{top:t.StatusBar+"px"}]},[t._v("发现")]),i("v-uni-view",{staticClass:"action header-btn"},[i("v-uni-text",{staticClass:"cuIcon-notice",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toLink("/pages/user/inbox")}}},[t.noticeSum>0?i("v-uni-text",{staticClass:"noticeSum bg-red"},[t._v(t._s(t.noticeSum))]):t._e()],1)],1)],1)],1),i("v-uni-view",{style:[{padding:t.NavBar+"px 10px 0px 10px"}]}),i("v-uni-view",{staticClass:"data-box"},[i("v-uni-view",{staticClass:"cu-bar bg-white"},[i("v-uni-view",{staticClass:"action data-box-title"},[i("v-uni-text",{staticClass:"cuIcon-titles text-rule"}),t._v("排行榜")],1),i("v-uni-view",{staticClass:"action more",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toTopContents("排行榜","commentsNum")}}},[i("v-uni-text",[t._v("更多热门")]),i("v-uni-text",{staticClass:"cuIcon-right"})],1)],1),i("v-uni-view",{staticClass:"top"},t._l(t.topList,(function(e,a){return i("v-uni-view",{key:a,staticClass:"top-box",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.toInfo(e)}}},[i("v-uni-text",[t._v(t._s(a+1))]),t._v(t._s(e.title))],1)})),1)],1),i("v-uni-view",{staticClass:"data-box"},[i("v-uni-view",{staticClass:"cu-bar bg-white"},[i("v-uni-view",{staticClass:"action data-box-title"},[i("v-uni-text",{staticClass:"cuIcon-titles text-rule"}),t._v("工具库")],1),i("v-uni-view",{staticClass:"action more"})],1),i("v-uni-view",{staticClass:"index-sort grid col-1 tool-sort"},[i("v-uni-view",{staticClass:"index-sort-box"},[i("waves",{attrs:{itemClass:"butclass"}},[i("v-uni-view",{staticClass:"index-sort-main",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goPage("/pages/home/tool")}}},[i("v-uni-view",{staticClass:"index-sort-i",staticStyle:{"background-color":"#7d7c7c"}},[i("v-uni-text",{staticClass:"cuIcon-similar"})],1),i("v-uni-view",{staticClass:"index-sort-text"},[t._v("更多")])],1)],1)],1)],1)],1),i("v-uni-view",{staticClass:"data-box"},[i("v-uni-view",{staticClass:"cu-bar bg-white"},[i("v-uni-view",{staticClass:"action data-box-title"},[i("v-uni-text",{staticClass:"cuIcon-titles text-rule"}),t._v("推荐文章")],1),i("v-uni-view",{staticClass:"action more",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toRecommend.apply(void 0,arguments)}}},[i("v-uni-text",[t._v("阅读更多")]),i("v-uni-text",{staticClass:"cuIcon-right"})],1)],1),i("v-uni-view",{staticClass:"cu-card article no-card"},t._l(t.recommendList,(function(e,a){return i("v-uni-view",{key:a,staticClass:"cu-item shadow",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.toInfo(e)}}},[i("v-uni-view",{staticClass:"content"},[e.images.length>0?i("v-uni-image",{attrs:{src:e.images[0],mode:"aspectFill"}}):t._e(),i("v-uni-view",{staticClass:"desc"},[i("v-uni-view",{staticClass:"text-content"},[t._v(t._s(t.replaceSpecialChar(e.title)))]),i("v-uni-view",{staticClass:"text-i"},[e.category.length>0?i("v-uni-view",{staticClass:"cu-tag bg-blue light sm round"},[t._v(t._s(e.category[0].name))]):t._e(),i("v-uni-view",{staticClass:"cu-tag data-time"},[t._v(t._s(t.formatDate(e.created)))])],1)],1)],1)],1)})),1)],1),i("v-uni-view",{staticClass:"data-box",staticStyle:{display:"none"}},[i("v-uni-view",{staticClass:"cu-bar bg-white"},[i("v-uni-view",{staticClass:"action data-box-title"},[i("v-uni-text",{staticClass:"cuIcon-titles text-rule"}),t._v("内容分类")],1),i("v-uni-view",{staticClass:"action more",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toAllcategory.apply(void 0,arguments)}}},[i("v-uni-text",[t._v("全部分类")]),i("v-uni-text",{staticClass:"cuIcon-right"})],1)],1),i("v-uni-view",{staticClass:"category grid col-3"},t._l(t.metaList,(function(e,a){return 0==e.parent?i("v-uni-view",{key:a,staticClass:"category-box",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.toCategoryContents(e.name,e.mid)}}},[i("v-uni-view",{staticClass:"category-main"},[t._v(t._s(e.name))])],1):t._e()})),1)],1),i("v-uni-view",{staticClass:"data-box"},[i("v-uni-view",{staticClass:"cu-bar bg-white"},[i("v-uni-view",{staticClass:"action data-box-title"},[i("v-uni-text",{staticClass:"cuIcon-titles text-rule"}),t._v("标签云")],1),i("v-uni-view",{staticClass:"action more",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toAlltag.apply(void 0,arguments)}}},[i("v-uni-text",[t._v("更多标签")]),i("v-uni-text",{staticClass:"cuIcon-right"})],1)],1),i("v-uni-view",{staticClass:"tags"},t._l(t.tagList,(function(e,a){return i("v-uni-text",{staticClass:"tags-box",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.toCategoryContents("#"+e.name+"#",e.mid)}}},[t._v(t._s(e.name))])})),1)],1),null!=t.bannerAdsInfo?i("v-uni-view",{staticClass:"ads-banner"},[i("v-uni-image",{attrs:{src:t.bannerAdsInfo.img,mode:"widthFix"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goAds(t.bannerAdsInfo)}}})],1):t._e(),0==t.isLoading?i("v-uni-view",{staticClass:"loading"},[i("v-uni-view",{staticClass:"loading-main"},[i("v-uni-image",{attrs:{src:a("e5d4")}})],1)],1):t._e()],1)},n=[]},e5d4:function(t,e,a){t.exports=a.p+"static/img/loading.edead6c4.gif"},fa9a:function(t,e,a){"use strict";a.r(e);var i=a("a4ba"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},fad5:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".waves[data-v-235bc8a0]{position:relative;overflow:hidden}.waves .waves-ripple[data-v-235bc8a0]{position:absolute;border-radius:100%;background-clip:padding-box;pointer-events:none;-webkit-user-select:none;user-select:none;-webkit-transform:scale(0);transform:scale(0);opacity:1}.waves .active[data-v-235bc8a0]{opacity:0;-webkit-transform:scale(2);transform:scale(2);transition:opacity 1s ease-out,-webkit-transform .3s ease-out;transition:opacity 1s ease-out,transform .3s ease-out;transition:opacity 1s ease-out,transform .3s ease-out,-webkit-transform .3s ease-out}",""]),t.exports=e}}]);