(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-assets"],{"0e32":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"user"},[i("v-uni-view",{staticClass:"header",class:t.AppStyle,style:[{height:t.CustomBar+"px"}]},[i("v-uni-view",{staticClass:"cu-bar bg-white",style:{height:t.CustomBar+"px","padding-top":t.StatusBar+"px"}},[i("v-uni-view",{staticClass:"action",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.back.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"cuIcon-back"})],1),i("v-uni-view",{staticClass:"content text-bold",style:[{top:t.StatusBar+"px"}]},[t._v("我的账户")]),i("v-uni-view",{staticClass:"action"})],1)],1),i("v-uni-view",{style:[{padding:t.NavBar+"px 10px 0px 10px"}]}),i("v-uni-view",{staticClass:"data-box"},[i("v-uni-view",{staticClass:"myAssets"},[i("v-uni-text",{staticClass:"text-red myAssets-num"},[t._v(t._s(t.assets))]),t._v("积分")],1),i("v-uni-view",{staticClass:"myAssets-btn"},[i("v-uni-text",{staticClass:"cu-btn bg-blue radius",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.userrecharge.apply(void 0,arguments)}}},[t._v("在线充值")]),i("v-uni-text",{staticClass:"cu-btn bg-red radius",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.userwithdraw.apply(void 0,arguments)}}},[t._v("快捷提现")])],1),1==t.isvip?i("v-uni-view",{staticClass:"vip-maim"},[i("v-uni-view",{staticClass:"bg-gradual-red text-center shadow-blur"},[i("v-uni-view",{staticClass:"text-lg text-bold"},[t._v("欢迎您，尊贵的VIP用户")]),i("v-uni-view",{staticClass:"margin-top-sm text-Abc"},[t._v("正在享受全站商品"+t._s(t.tovipDiscount(t.vipDiscount))+"折优惠，及VIP专属头衔！")]),1==t.vip?i("v-uni-view",{staticClass:"margin-top-sm text-Abc"},[t._v("到期时间：永久")]):i("v-uni-view",{staticClass:"margin-top-sm text-Abc"},[t._v("到期时间："+t._s(t.formatDate(t.vip)))]),i("v-uni-view",{staticClass:"cu-btn radius margin-top bg-black  shadow-blur",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.buyvip.apply(void 0,arguments)}}},[t._v("立即续期")])],1)],1):i("v-uni-view",{staticClass:"vip-maim"},[i("v-uni-view",{staticClass:"bg-gradual-blue text-center shadow-blur"},[i("v-uni-view",{staticClass:"text-lg text-bold"},[t._v("您当前不是VIP用户")]),i("v-uni-view",{staticClass:"margin-top-sm text-Abc"},[t._v("开通VIP，可享受全站商品"+t._s(t.tovipDiscount(t.vipDiscount))+"折优惠"),i("v-uni-text",{staticClass:"cuIcon-question",attrs:{"data-target":"DialogModal1"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showModal.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"cu-btn radius margin-top bg-black  shadow-blur",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.buyvip.apply(void 0,arguments)}}},[t._v("立即开通")])],1)],1)],1),i("v-uni-view",{staticClass:"text-tips margin-top text-center text-gray text-sm"},[t._v("只显示最近30条资产记录")]),0==t.orderList.length?i("v-uni-view",{staticClass:"no-data"},[i("v-uni-text",{staticClass:"cuIcon-text"}),t._v("暂时没有数据")],1):t._e(),t._l(t.orderList,(function(e,a){return i("v-uni-view",{key:a,staticClass:"order-box"},[i("v-uni-view",{staticClass:"order-main"},[i("v-uni-view",{staticClass:"order-info"},[i("v-uni-text",{staticClass:"order-id"},[t._v("订单ID："+t._s(e.outTradeNo))]),e.shopInfo?i("v-uni-text",{staticClass:"order-type bg-blue"},[t._v(t._s(t.getType(e.shopInfo.type)))]):t._e()],1),i("v-uni-view",{staticClass:"order-shop"},[t._v(t._s(e.subject)),i("v-uni-view",{staticClass:"order-time"},[t._v(t._s(t.formatDate(e.created)))])],1),i("v-uni-view",{staticClass:"order-btn"},[i("v-uni-text",{staticClass:"text-red"},[t._v(t._s(e.totalAmount)+"积分")]),0==e.status?i("v-uni-text",{staticClass:"text-yellow pay-status"},[t._v("未支付")]):t._e(),1==e.status?i("v-uni-text",{staticClass:"text-green pay-status"},[t._v("已支付")]):t._e()],1)],1)],1)})),0==t.isLoading?i("v-uni-view",{staticClass:"loading"},[i("v-uni-view",{staticClass:"loading-main"},[i("v-uni-image",{attrs:{src:a("e5d4")}})],1)],1):t._e(),i("v-uni-view",{staticClass:"cu-modal",class:"DialogModal1"==t.modalName?"show":""},[i("v-uni-view",{staticClass:"cu-dialog"},[i("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[i("v-uni-view",{staticClass:"content"},[t._v("VIP开通说明")]),i("v-uni-view",{staticClass:"action",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideModal.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"cuIcon-close text-red"})],1)],1),i("v-uni-view",{staticClass:"padding-xl text-left"},[i("v-uni-view",[t._v("开通VIP后，在有效期结束之前，您将享受全站所有商品（无论类型）的对应折扣优惠。但因为商品采用积分结算，而积分仅能为整数，所以在进行折扣计算时，将默认已整数结果进行计算。所以，对于VIP用户，小于或等于1积分的商品，将视为免费。价格大于1的商品，将省略小数点后部分。")])],1)],1)],1)],2)},s=[]},2319:function(t,e,a){"use strict";var i=a("a08d"),s=a.n(i);s.a},"2b7c":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"waves",class:t.itemClass,attrs:{id:t.wavesId},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.onTouchstart(e)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.onTap.apply(void 0,arguments)}}},[t._t("default"),a("v-uni-view",{staticClass:"waves-ripple",class:{active:t.active},style:{top:t.rippleTop+"px",left:t.rippleLeft+"px",width:t.field.finalWidth+"px",height:t.field.finalWidth+"px","background-color":t.wavesColor}})],2)},s=[]},"3a6e":function(t,e,a){"use strict";a.r(e);var i=a("0e32"),s=a("5bae");for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);var o=a("f0c5"),u=Object(o["a"])(s["default"],i["b"],i["c"],!1,null,"6943731e",null,!1,i["a"],void 0);e["default"]=u.exports},5819:function(t,e,a){"use strict";a.r(e);var i=a("2b7c"),s=a("fa9a");for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);a("2319");var o=a("f0c5"),u=Object(o["a"])(s["default"],i["b"],i["c"],!1,null,"235bc8a0",null,!1,i["a"],void 0);e["default"]=u.exports},"5bae":function(t,e,a){"use strict";a.r(e);var i=a("f025"),s=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=s.a},a08d:function(t,e,a){var i=a("fad5");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("4f06").default;s("b7f8fc44",i,!0,{sourceMap:!1,shadowMode:!1})},a4ba:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("d3b7"),a("ac1f");var i=0,s={props:{wavesColor:{type:String,default:"rgba(0, 0, 0, .15)"},itemClass:{type:String,default:""}},data:function(){return i++,{rippleTop:0,rippleLeft:0,field:{},active:Boolean,wavesId:"waves_"+i}},methods:{onTap:function(t){this.$emit("onTap")},onTouchstart:function(t){var e=this;this.active=!1,this.$nextTick((function(){e.activeWaves(t)}))},activeWaves:function(t){var e=this;this.getClientRect().then((function(a){var i,s;a.height&&(a.finalWidth=a.height>a.width?a.height:a.width,a.finalWidth&&(e.field=a,i=t.touches[0].clientX,s=t.touches[0].clientY,e.rippleTop=s-a.top-a.finalWidth/2,e.rippleLeft=i-a.left-a.finalWidth/2,e.$nextTick((function(){e.active=!0}))))}))},getClientRect:function(){var t=this;return new Promise((function(e){var a=uni.createSelectorQuery().in(t),i="#"+t.wavesId;a.select(i).boundingClientRect((function(t){e(t)})).exec()}))}}};e.default=s},e5d4:function(t,e,a){t.exports=a.p+"static/img/loading.edead6c4.gif"},f025:function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("e25e"),a("fb6a"),a("a9e3"),a("d401"),a("d3b7"),a("25f0"),a("ac1f"),a("5319");var s=i(a("5819")),n=a("cfbc"),o={data:function(){return{StatusBar:this.StatusBar,CustomBar:this.CustomBar,NavBar:this.StatusBar+this.CustomBar,AppStyle:this.$store.state.AppStyle,userInfo:null,token:"",assets:"",isvip:0,vip:0,orderList:[],isLoading:0,modalName:null,vipDiscount:0,vipPrice:0,scale:0}},onPullDownRefresh:function(){n.localStorage.getItem("token")&&(this.token=n.localStorage.getItem("token"),this.userStatus(),this.getOrderList()),this.getVipInfo();setTimeout((function(){uni.stopPullDownRefresh()}),1e3)},onShow:function(){n.localStorage.getItem("userinfo")&&(this.userInfo=JSON.parse(n.localStorage.getItem("userinfo")),this.userInfo.style="background-image:url("+this.userInfo.avatar+");"),n.localStorage.getItem("token")&&(this.token=n.localStorage.getItem("token"),this.userStatus(),this.getOrderList()),this.getVipInfo()},onLoad:function(){},methods:{back:function(){uni.navigateBack({delta:1})},showModal:function(t){this.modalName=t.currentTarget.dataset.target},hideModal:function(t){this.modalName=null},toLink:function(t){if(!n.localStorage.getItem("token")||""==n.localStorage.getItem("token"))return uni.showToast({title:"请先登录哦",icon:"none"}),!1;uni.navigateTo({url:t})},userrecharge:function(){uni.navigateTo({url:"/pages/user/userrecharge"})},userwithdraw:function(){uni.navigateTo({url:"/pages/user/userwithdraw"})},buyvip:function(){uni.navigateTo({url:"/pages/user/buyvip"})},userStatus:function(){var t=this;t.$Net.request({url:t.$API.userStatus(),data:{token:t.token},header:{"Content-Type":"application/x-www-form-urlencoded"},method:"get",dataType:"json",success:function(e){1==e.data.code&&(t.assets=e.data.data.assets,t.vip=e.data.data.vip,t.isvip=e.data.data.isvip)},fail:function(t){uni.showToast({title:"网络开小差了哦",icon:"none"})}})},getOrderList:function(){var t=this,e={token:t.token};t.$Net.request({url:t.$API.payLogList(),data:e,header:{"Content-Type":"application/x-www-form-urlencoded"},method:"get",dataType:"json",success:function(e){if(uni.stopPullDownRefresh(),1==e.data.code){var a=e.data.data;a.length>0&&(t.orderList=a)}setTimeout((function(){t.isLoading=1,clearTimeout("timer")}),300)},fail:function(e){uni.stopPullDownRefresh(),uni.showToast({title:"网络开小差了哦",icon:"none"});setTimeout((function(){t.isLoading=1,clearTimeout("timer")}),300)}})},formatDate:function(t){t=new Date(parseInt(1e3*t));var e=t.getFullYear(),a=("0"+(t.getMonth()+1)).slice(-2),i=("0"+t.getDate()).slice(-2),s=("0"+t.getHours()).slice(-2),n=("0"+t.getMinutes()).slice(-2),o=e+"-"+a+"-"+i+" "+s+":"+n;return o},getVipInfo:function(){var t=this;t.$Net.request({url:t.$API.getVipInfo(),header:{"Content-Type":"application/x-www-form-urlencoded"},method:"get",dataType:"json",success:function(e){1==e.data.code&&(t.vipDiscount=e.data.data.vipDiscount,t.vipPrice=e.data.data.vipPrice,t.scale=e.data.data.scale);setTimeout((function(){t.isLoading=1,clearTimeout("timer")}),300)},fail:function(e){setTimeout((function(){t.isLoading=1,clearTimeout("timer")}),300)}})},tovipDiscount:function(t){return Number(t)<=0?0:(t=t.toString(),t=t.replace("0.",""),t)}},components:{waves:s.default}};e.default=o},fa9a:function(t,e,a){"use strict";a.r(e);var i=a("a4ba"),s=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=s.a},fad5:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".waves[data-v-235bc8a0]{position:relative;overflow:hidden}.waves .waves-ripple[data-v-235bc8a0]{position:absolute;border-radius:100%;background-clip:padding-box;pointer-events:none;-webkit-user-select:none;user-select:none;-webkit-transform:scale(0);transform:scale(0);opacity:1}.waves .active[data-v-235bc8a0]{opacity:0;-webkit-transform:scale(2);transform:scale(2);transition:opacity 1s ease-out,-webkit-transform .3s ease-out;transition:opacity 1s ease-out,transform .3s ease-out;transition:opacity 1s ease-out,transform .3s ease-out,-webkit-transform .3s ease-out}",""]),t.exports=e}}]);